const mongoose = require('mongoose');

const cardSchema = new mongoose.Schema({
  name: { type: String, required: true, index: true }, // required
  faction: { type: String, required: true }, // required
  type: { type: String, required: true }, // required
  illustrator: { type: String, required: true }, // required
  includedPack: { type: mongoose.Schema.Types.ObjectId, ref: 'pack', required: true }, // required
  number: { type: Number, required: true }, // required
  subname: { type: String, default: '' },
  img: { type: String, default: '' },
  isUnique: { type: Boolean, default: false },
  doubleFaced: { type: Boolean, default: false },
  backName: { type: String, default: '' },
  backText: { type: String, default: '' },
  backFlavor: { type: String, default: '' },
  backImg: { type: String, default: '' },
  subtype: { type: String, default: null },
  cost: { type: Number, default: null },
  xp: { type: Number, default: null },
  trait: [{ type: String, default: null }],
  slot: [{ type: String, default: null }],
  will: { type: Number, default: null },
  int: { type: Number, default: null },
  combat: { type: Number, default: null },
  agi: { type: Number, default: null },
  wild: { type: Number, default: null },
  health: { type: Number, default: null },
  sanity: { type: Number, default: null },
  attack: { type: Number, default: null },
  horror: { type: Number, default: null },
  enemyHP: { type: Number, default: null },
  text: { type: String, default: '' },
  flavor: { type: String, default: '' },
  deckSize: { type: Number, default: null },
  deckOption: [{
      faction: { type: String, default: '' },
      min: { type: Number, default: 0 },
      max: { type: Number, default: 5 }
  }],
  deckRequirements: [{ type: mongoose.Schema.Types.ObjectId, ref: 'card' }]
});

const Card = mongoose.model('card', cardSchema);
module.exports = Card

Card.findOne().where('name').regex('')
  .then((r) => {
    if (r) throw new Error('');
    return Card.create({"_id":"5b5adc3e0bb7690394598c99","subname":"The Fed","img":"","isUnique":true,"doubleFaced":true,"backName":"Roland Banks","backText":"Deck size: 30.\n\nDeckbuilding options: Guardian cards ([guardian]) level 0-5, Seeker cards ([seeker]) level 0-2, Neutral cards level 0-5.\n\nDeckbuilding requirements (do not count toward deck size): Roland's .38 Special, Cover Up, 1 random basic weakness.","backFlavor":"Roland had always taken comfort in procedure and rules. As an agent in the Bureau, he was relieved to have guidelines to follow in any given situation. But lately, his Federal Agent's Handbook had been entirely unhelpful given the cases he'd been assigned. Try as he might, Roland could find no mention of what to do when confronted with strange creatures, gates through time and space, or magic spells. If he hadn't seen it with his own eyes, he would never have believed it... and there's no way his superiors would understand. Roland knew he would have to handle this one himself.","backImg":"","subType":null,"cost":null,"xp":null,"trait":["Agency","Detective"],"will":3,"int":3,"combat":4,"agi":2,"wild":null,"health":9,"sanity":5,"attack":null,"horror":null,"enemyHP":null,"text":"[reaction] After you defeat an enemy: Discover 1 clue at your location. (Limit once per round.)\n\n[elder sign] effect: +1 for each clue on your location.","flavor":"Everything by the book: every \"i\" dotted, every \"t\" crossed. It has worked, until now.","deckSize":30,"deckRequirements":["5b5b060b17e85943dc2b1cbb","5b5b0a3117e85943dc2b1cbc"],"name":"Roland Banks","faction":"Guardian","type":"조사자","illustrator":"Magali Villeneuve","includedPack":"5b588aa907332121c8e9257d","number":1,"deckOption":[{"faction":"Neutral","min":0,"max":5,"_id":"5b5b181103beac4b3c0ee397"},{"faction":"Guardian","min":0,"max":5,"_id":"5b5b181103beac4b3c0ee396"},{"faction":"Seeker","min":0,"max":2,"_id":"5b5b181103beac4b3c0ee395"}],"__v":0},{"_id":"5b5ae31f45f49820c4d4e2b4","subname":"The Librarian","img":"","isUnique":true,"doubleFaced":true,"backName":"Daisy Walker","backText":"Deck size: 30.\n\nDeckbuilding options: Seeker cards ([seeker]) level 0-5, Mystic cards ([mystic]) level 0-2, Neutral cards level 0-5.\n\nDeckbuilding requirements (do not count toward deck size): Daisy’s Tote Bag, The Necronomicon (John Dee Translation), 1 random basic weakness.","backFlavor":"As a respected librarian at Miskatonic University, Daisy had always felt that books were the most important thing in her life. She explored in fiction what she abhorred in life: horror, violence, fear. Then, she stumbled across the John Dee translation of the Necronomicon. It was blasphemous, unholy, and too awful to be read. But given her studies in obscure and occult subjects, Daisy knew there was more truth than fiction within the book's pages. She began to wonder what other secrets the restricted collection of the Orne Library held...","backImg":"","subType":null,"cost":null,"xp":null,"trait":["Miskatonic"],"will":3,"int":5,"combat":2,"agi":2,"wild":null,"health":5,"sanity":9,"attack":null,"horror":null,"enemyHP":null,"text":"You may take an additional action during your turn, which can only be used on Tome [action] abilities.\n\n[elder sign] effect: +0. If you succeed, draw 1 card for each Tome you control.","flavor":"\"I know of books so powerful, they can rewrite reality.\"","deckSize":30,"deckRequirements":["5b5b0a7317e85943dc2b1cbd","5b5b0ad517e85943dc2b1cbe"],"name":"Daisy Walker","faction":"Seeker","type":"조사자","illustrator":"Magali Villeneuve","includedPack":"5b588aa907332121c8e9257d","number":2,"deckOption":[{"faction":"Neutral","min":0,"max":5,"_id":"5b5b1c9473cac23704532777"},{"faction":"Mystic","min":0,"max":2,"_id":"5b5b1c9473cac23704532776"},{"faction":"Seeker","min":0,"max":5,"_id":"5b5b1c9473cac23704532775"}],"__v":0},{"_id":"5b5ae40345f49820c4d4e2b8","subname":"The Ex-Con","img":"","isUnique":true,"doubleFaced":true,"backName":"\"Skids\" O'Toole","backText":"Deck size: 30.\n\nDeckbuilding options: Rogue cards ([rogue]) level 0-5, Guardian cards ([guardian]) level 0-2, Neutral cards level 0-5.\n\nDeckbuilding requirements (do not count toward deck size): On the Lam, Hospital Debts, 1 random basic weakness.","backFlavor":"Skids hadn't planned on a life of crime. But sometimes doing the right thing means getting your hands dirty. The cops didn't care that Skids needed the money for his mother's operation. His mother died of her illness during the second year of his sentence. His cellmate, Brad Hollins, told him there were worse fates than death. He ranted and raved in a quiet voice every evening about the \"Old Ones\" and told Skids about bizzare adventures he'd had while dreaming. Skids didn't give it much thought until the night he woke to the sight of his cellmate bursting into flames. When Skids was finally released, he returned to Arkham, looking for answers.","backImg":"","subType":null,"cost":null,"xp":null,"trait":["Criminal"],"will":2,"int":3,"combat":3,"agi":4,"wild":null,"health":8,"sanity":6,"attack":null,"horror":null,"enemyHP":null,"text":"[fast action] During your turn, spend 2 resources: You may take an additional action this turn. (Limit once per turn.)\n\n[elder sign] effect: +2. If you succeed, gain 2 resources.","flavor":"\"I didn't get out of the joint just to watch the world end.\"","deckSize":30,"deckRequirements":["5b5b0b1d17e85943dc2b1cbf","5b5b0b6317e85943dc2b1cc0"],"name":"\"Skids\" O'Toole","faction":"Rogue","type":"조사자","illustrator":"Magali Villeneuve","includedPack":"5b588aa907332121c8e9257d","number":3,"deckOption":[{"faction":"Neutral","min":0,"max":5,"_id":"5b5b1c9c73cac2370453277a"},{"faction":"Guardian","min":0,"max":2,"_id":"5b5b1c9c73cac23704532779"},{"faction":"Rogue","min":0,"max":5,"_id":"5b5b1c9c73cac23704532778"}],"__v":0},{"_id":"5b5ae4d445f49820c4d4e2bc","subname":"The Waitress","img":"","isUnique":true,"doubleFaced":true,"backName":"Agnes Baker","backText":"Deck size: 30.\n\nDeckbuilding options: Mystic cards ([mystic]) level 0-5, Survivor cards ([survivor]) level 0-2, Neutral cards level 0-5.\n\nDeckbuilding requirements (do not count toward deck size): Heirloom of Hyperborea, Dark Memory, 1 random basic weakness.","backFlavor":"Agnes Baker may be just an unassuming waitress in this life, but in a previous life, in a time and age undreamed of in the modern world, she had been a powerful witch. It began when she found a strange artifact — a key of some kind — in a dusty collection of family belongings in her attic. When she touched it, the memories came flooding back, along with one word: \"Hyperborea.\" The more she delved into the visions and memories of her former life, the stronger her powers grew... and the more frightened she became.","backImg":"","subType":null,"cost":null,"xp":null,"trait":["Sorcerer"],"will":5,"int":2,"combat":2,"agi":3,"wild":null,"health":6,"sanity":8,"attack":null,"horror":null,"enemyHP":null,"text":"[reaction] After 1 or more horror is placed on Agnes Baker: Deal 1 damage to an enemy at your location. (Limit once per phase.)\n\n[elder sign] effect: +1 for each horror on Agnes Baker.","flavor":"\"I remember another life, one of sorcery and conquest.\"","deckSize":30,"deckRequirements":["5b5b0c4617e85943dc2b1cc1","5b5b0c9717e85943dc2b1cc2"],"name":"Agnes Baker","faction":"Mystic","type":"조사자","illustrator":"Magali Villeneuve","includedPack":"5b588aa907332121c8e9257d","number":4,"deckOption":[{"faction":"Neutral","min":0,"max":5,"_id":"5b5b1ca873cac2370453277d"},{"faction":"Survivor","min":0,"max":2,"_id":"5b5b1ca873cac2370453277c"},{"faction":"Mystic","min":0,"max":5,"_id":"5b5b1ca873cac2370453277b"}],"__v":0},{"_id":"5b5af8d8d446ce2e1c679527","subname":"The Urchin","img":"","isUnique":true,"doubleFaced":true,"backName":"Wendy Adams","backText":"Deck size: 30.\n\nDeckbuilding options: Survivor cards ([survivor]) level 0-5, Rogue cards ([rogue]) level 0-2, Neutral cards level 0-5.\n\nDeckbuilding requirements (do not count toward deck size): Wendy's Amulet, Abandoned and Alone, 1 random basic weakness.","backFlavor":"Mama used to let Wendy play with her necklace when she was small. Mama would tell her stories, and Wendy would spin the necklace and watch as it glittered. Then, word came that her father had been lost at sea, and Mama started acting strange, drawing unusual symbols in chalk all over the house. They took Mama to the asylum, and Wendy went to the orphanage. Before they took her away, Mama gave her the necklace, to \"protect her.\" Wendy stayed in the orphanage for several years before running away, deciding that she could take better care of herself on her own.","backImg":"","subType":null,"cost":null,"xp":null,"trait":["Drifter"],"will":4,"int":3,"combat":1,"agi":4,"wild":null,"health":7,"sanity":7,"attack":null,"horror":null,"enemyHP":null,"text":"[reaction] When you reveal a chaos token, choose and discard 1 card from your hand: Cancel that chaos token and return it to the bag. Reveal a new chaos token. (Limit once per test/ability.)\n\n[elder sign] effect: +0. If Wendy's Amulet is in play, you automatically succeed instead.","flavor":"","deckSize":30,"deckRequirements":["5b5b0e9017e85943dc2b1cc3","5b5b0ebf17e85943dc2b1cc4"],"name":"Wendy Adams","faction":"Survivor","type":"조사자","illustrator":"Jacob Murray","includedPack":"5b588aa907332121c8e9257d","number":5,"deckOption":[{"faction":"Neutral","min":0,"max":5,"_id":"5b5b1cb373cac23704532780"},{"faction":"Survivor","min":0,"max":5,"_id":"5b5b1cb373cac2370453277f"},{"faction":"Rogue","min":0,"max":2,"_id":"5b5b1cb373cac2370453277e"}],"__v":0},{"_id":"5b5b060b17e85943dc2b1cbb","subname":"","img":"","isUnique":true,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":3,"xp":0,"trait":["Item","Weapon","Firearm"],"slot":["Hand"],"will":0,"int":0,"combat":1,"agi":1,"wild":1,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Roland Banks deck only.\n\nUses (4 ammo).\n\n[action] Spend 1 ammo: Fight. You get +1 [combat] for this attack (if there are 1 or more clues on your location, you get +3 [combat], instead). This attack deals +1 damage.","flavor":"","deckSize":null,"deckRequirements":[],"name":"Roland's .38 Special","faction":"Neutral","type":"Asset","illustrator":"Tiziano Baracchi","includedPack":"5b588aa907332121c8e9257d","number":6,"deckOption":[],"__v":0},{"_id":"5b5b0a3117e85943dc2b1cbc","subname":"","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":null,"xp":0,"trait":["Task"],"slot":[],"will":0,"int":0,"combat":0,"agi":0,"wild":0,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Revelation - Put Cover Up into play in your threat area, with 3 clues on it.\n\n[reaction] When you would discover 1 or more clues at your location: Discard that many clues from Cover Up instead.\n\nForced - When the game ends, if there are any clues on Cover Up: You suffer 1 mental trauma.","flavor":"","deckSize":null,"deckRequirements":[],"name":"Cover Up","faction":"Neutral","type":"Treachery","illustrator":"Marcin Jakubowski","includedPack":"5b588aa907332121c8e9257d","number":7,"deckOption":[],"__v":0,"subtype":"Weakness"},{"_id":"5b5b0a7317e85943dc2b1cbd","subname":"","img":"","isUnique":true,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":2,"xp":0,"trait":["Item"],"slot":[],"will":1,"int":1,"combat":0,"agi":0,"wild":1,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Daisy Walker deck only.\n\nYou have 2 additional hand slots, which can only be used to hold Tome assets.","flavor":"","deckSize":null,"deckRequirements":[],"name":"Daisy's Tote Bag","faction":"Neutral","type":"Asset","illustrator":"Dani Hartel","includedPack":"5b588aa907332121c8e9257d","number":8,"deckOption":[],"__v":0},{"_id":"5b5b0ad517e85943dc2b1cbe","subname":"John Dee Translation","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":null,"xp":0,"trait":["Item","Tome"],"slot":["Hand"],"will":0,"int":0,"combat":0,"agi":0,"wild":0,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Revelation - Put The Necronomicon into play in your threat area, with 3 horror on it. It cannot leave play while it has 1 or more horror on it.\n\nTreat each [elder sign] you reveal on a chaos token as a [auto fail].\n\n[action]: Move 1 horror from The Necronomicon to Daisy Walker. Then, if The Necronomicon has no horror on it, discard it.","flavor":"","deckSize":null,"deckRequirements":[],"name":"The Necronomicon","faction":"Neutral","type":"Asset","illustrator":"Jesse Mead","includedPack":"5b588aa907332121c8e9257d","number":9,"deckOption":[],"__v":0,"subtype":"Weakness"},{"_id":"5b5b0b1d17e85943dc2b1cbf","subname":"","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":1,"xp":0,"trait":["Tactic"],"slot":[],"will":0,"int":1,"combat":0,"agi":1,"wild":2,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"\"Skids\" O'Toole deck only.\n\nFast. Play after your turn begins.\n\nUntil the end of the round, non-Elite enemies cannot attack you.","flavor":"I ain't going to the pen a second time.","deckSize":null,"deckRequirements":[],"name":"On the Lam","faction":"Neutral","type":"Event","illustrator":"John Pacer","includedPack":"5b588aa907332121c8e9257d","number":10,"deckOption":[],"__v":0},{"_id":"5b5b0b6317e85943dc2b1cc0","subname":"","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":null,"xp":0,"trait":["Task"],"slot":[],"will":0,"int":0,"combat":0,"agi":0,"wild":0,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Revelation - Put Hospital Debts into play in your threat area.\n\n[fast action]: Move 1 resource from your resource pool to Hospital Debts. (Limit twice per round.)\n\nForced - When the game ends, if Hospital Debts has fewer than 6 resources on it: You earn 2 fewer experience for this scenario.","flavor":"","deckSize":null,"deckRequirements":[],"name":"Hospital Debts","faction":"Neutral","type":"Treachery","illustrator":"Adam Lane","includedPack":"5b588aa907332121c8e9257d","number":11,"deckOption":[],"__v":0,"subtype":"Weakness"},{"_id":"5b5b0c4617e85943dc2b1cc1","subname":"Artifact from Another Life","img":"","isUnique":true,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":3,"xp":0,"trait":["Item","Relic"],"slot":["Accessory"],"will":1,"int":0,"combat":1,"agi":0,"wild":1,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Agnes Baker deck only.\n\n[reaction] After you play a spell card: Draw 1 card.","flavor":"The etchings on its surface change from day to day, and moving whenever I'm not looking.","deckSize":null,"deckRequirements":[],"name":"Heirloom of Hyperborea","faction":"Neutral","type":"Asset","illustrator":"Dani Hartel","includedPack":"5b588aa907332121c8e9257d","number":12,"deckOption":[],"__v":0},{"_id":"5b5b0c9717e85943dc2b1cc2","subname":"","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":2,"xp":0,"trait":["Spell"],"slot":[],"will":0,"int":0,"combat":0,"agi":0,"wild":0,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Place 1 doom on the current agenda. This effect may cause the current agenda to advance.\n\nForced - If Dark Memory is in your hand at the end of your turn, reveal it and take 2 horror.","flavor":"No... not again!","deckSize":null,"deckRequirements":[],"name":"Dark Memory","faction":"Neutral","type":"Event","illustrator":"Falk","includedPack":"5b588aa907332121c8e9257d","number":13,"deckOption":[],"__v":0,"subtype":"Weakness"},{"_id":"5b5b0e9017e85943dc2b1cc3","subname":"","img":"","isUnique":true,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":2,"xp":0,"trait":["Item","Relic"],"slot":["Accessory"],"will":0,"int":0,"combat":0,"agi":0,"wild":2,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Wendy Adams deck only.\n\nYou may play the topmost event in your discard pile as if it were in your hand.\n\nForced - After you play an event: Place it on the bottom of your deck instead of in your discard pile.","flavor":"","deckSize":null,"deckRequirements":[],"name":"Wendy's Amulet","faction":"Neutral","type":"Asset","illustrator":"Linda Tso","includedPack":"5b588aa907332121c8e9257d","number":14,"deckOption":[],"__v":0},{"_id":"5b5b0ebf17e85943dc2b1cc4","subname":"","img":"","isUnique":false,"doubleFaced":false,"backName":"","backText":"","backFlavor":"","backImg":"","subType":null,"cost":null,"xp":0,"trait":["Madness"],"slot":[],"will":0,"int":0,"combat":0,"agi":0,"wild":0,"health":0,"sanity":0,"attack":null,"horror":null,"enemyHP":null,"text":"Revelation - Take 2 direct horror and remove all cards in your discard pile from the game.","flavor":"I don't need them. I don't need anyone.","deckSize":null,"deckRequirements":[],"name":"Abandoned and Alone","faction":"Neutral","type":"Treachery","illustrator":"Ben Zweifel","includedPack":"5b588aa907332121c8e9257d","number":15,"deckOption":[],"__v":0,"subtype":"Weakness"});
  })
  .then(() => {
    console.log('Sample cards created');
  })
  .catch((err) => {
    if (err.message) console.error(`db err Sample cards write ${err}`);
  });
